---
title: '배포 방식의 결정'
date: '2024-12-28 00:00:00'
---

적어도 필자가 함께 일했던 개발자들은 배포를 염두에 두지 않고 개발하는 경우가 많았다. 이는 어쩌면 당연한 일이었을지도 모른다. 해야 할 개발 작업은 산더미 같고, 운영까지는 아직 시간이 남았으니, 배포까지 고려할 여유가 없었을 것이다. 필자 역시 운영 중인 시스템을 직접 담당하기 전까지는 개발 단계에서 배포를 함께 고민해야 한다는 사실을 깊이 깨닫지 못했으니, 누구를 탓할 자격도 없다.

새 버전을 배포할 때는 항상 **현재 누군가가 이 서비스를 사용하고 있다는 점**을 명심해야 한다. 간단히 수정하고 재빠르게 반영하면 된다고 생각하기 쉽지만, 작은 변경조차 의도치 않은 부작용(side effect)을 초래해 다른 문제를 발생시킬 수 있다. 따라서 배포는 항상 신중하고 체계적으로 이루어져야 한다.

배포 방식은 다양하다. 대표적으로 **A/B 배포**, **롤링 배포**, **카나리 배포**가 있다.  
- **A/B 배포**는 운영 서버와 동일한 환경의 파일럿(pilot) 서버에서 새 버전을 먼저 테스트한 후 본격적으로 배포하는 방식이다.  
- **롤링 배포**는 여러 대의 운영 서버에 새 버전을 **순차적으로 점진적으로 배포**하는 방법이다.  
- **카나리 배포**는 롤링 배포와 비슷하지만, 특정 사용자 그룹(포커스 그룹)에 먼저 새 버전을 배포하고, 이후 문제 여부를 확인한 뒤 전체적으로 확장하는 방식이다. 특히, 장애가 발생하면 신속히 이전 버전으로 롤백한다는 점이 큰 특징이다.  

배포 방식은 서비스 특성, 시스템 규모, 향후 확장성을 고려해 신중히 선택해야 한다. 예를 들어, 회사 소개용 홈페이지처럼 사용자 수가 많지 않고, 금전적 이윤을 기대하지 않는 서비스라면 굳이 롤링 배포나 카나리 배포와 같은 복잡한 방식을 적용할 필요는 없다. 하지만 쿠팡과 같은 대형 쇼핑몰처럼 사용자 유형이 다양하고 서비스 중단 시 영향이 큰 경우에는 A/B 배포나 롤링 배포만으로는 부족할 수 있다. 수정 사항의 영향력이 크기 때문에, 포커스 그룹을 활용한 사전 테스트와 신중한 검토를 통해 새 버전을 배포해야 한다.

필자가 담당했던 P의 경우, 쿠팡처럼 대규모 플랫폼은 아니었지만, 일정 수 이상의 사용자가 있었고 결제가 포함된 민감한 서비스를 제공하고 있었다. 사용자 그룹이 충분하지 않아 카나리 배포는 적합하지 않았지만, **롤링 배포**를 통해 안정성을 확보하면서도 점진적으로 새 버전을 배포하는 방식이 플랫폼에 가장 적합했다.

**배포는 단순히 기술적 작업이 아니다.** 이는 서비스 사용자에게 안정적인 경험을 제공하고, 나아가 서비스에 대한 신뢰를 쌓는 중요한 과정이다. 배포 전략을 적절히 선택하고 운영하는 것은 개발자의 역할을 넘어, 비즈니스 전반의 성공을 좌우하는 핵심 요소라 할 수 있다. 필자 역시 이러한 경험을 통해 배포의 중요성을 절감했고, 단순히 개발을 넘어 서비스 운영의 전반을 고민하는 태도를 갖게 되었다. 결국, 좋은 배포는 기술뿐 아니라, 사용자를 향한 세심한 배려와 책임감에서 시작된다.